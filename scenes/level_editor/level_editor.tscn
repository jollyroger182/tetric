[gd_scene load_steps=14 format=3 uid="uid://clf7724ati23g"]

[ext_resource type="Script" uid="uid://bspxj0pxi0bpo" path="res://scenes/level_editor/level_editor.gd" id="1_ahyo7"]
[ext_resource type="Script" uid="uid://cfymfv4422fwj" path="res://utils/conductor.gd" id="2_le4y8"]
[ext_resource type="PackedScene" uid="uid://c1ieaag3h73tg" path="res://scenes/components/file_saver/file_saver.tscn" id="3_riedv"]
[ext_resource type="Script" uid="uid://cqqd4gaqh0xmd" path="res://scenes/level_editor/input.gd" id="4_02gh2"]
[ext_resource type="PackedScene" uid="uid://dweiuwu61lyfe" path="res://scenes/components/file_picker/file_picker.tscn" id="4_f4xfo"]
[ext_resource type="Script" uid="uid://dcbgwhlvha0yc" path="res://scenes/level_editor/notes.gd" id="5_02gh2"]
[ext_resource type="Script" uid="uid://dyo0yr106cewp" path="res://utils/undo_manager.gd" id="5_chnju"]
[ext_resource type="Theme" uid="uid://d3m46y6fmbccy" path="res://resources/theme_base.tres" id="6_4puek"]
[ext_resource type="LabelSettings" uid="uid://cmhq53knjfnbd" path="res://resources/label_settings_subheading.tres" id="7_j7obp"]
[ext_resource type="StyleBox" uid="uid://cyl52y74enl6i" path="res://resources/style_box_dark_background.tres" id="7_riedv"]
[ext_resource type="Texture2D" uid="uid://c47pgcjvj4y41" path="res://assets/images/icon_backward.png" id="11_bjucn"]
[ext_resource type="Texture2D" uid="uid://4q13t3ee8rc0" path="res://assets/images/icon_play.png" id="12_03yw0"]
[ext_resource type="Texture2D" uid="uid://bgmmw1auy04nr" path="res://assets/images/icon_forward.png" id="13_bclc7"]

[node name="LevelEditor" type="Node2D"]
script = ExtResource("1_ahyo7")

[node name="FilePicker" parent="." instance=ExtResource("4_f4xfo")]
filter = "*.wav,*.wave,*.zip;.WAV Files and .ZIP Game Files;audio/vnd.wav,audio/vnd.wave,audio.wav,audio.wave,application/zip"

[node name="FileSaver" parent="." instance=ExtResource("3_riedv")]

[node name="Conductor" type="AudioStreamPlayer" parent="."]
script = ExtResource("2_le4y8")

[node name="InputHandler" type="Node" parent="."]
script = ExtResource("4_02gh2")

[node name="UndoManager" type="Node" parent="."]
script = ExtResource("5_chnju")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = 0

[node name="Panel" type="Panel" parent="CanvasLayer"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("6_4puek")
theme_override_styles/panel = ExtResource("7_riedv")

[node name="UI" type="CanvasLayer" parent="."]

[node name="Title" type="Label" parent="UI"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_top = -200.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("6_4puek")
text = "Currently editing: yourmom.wav"
label_settings = ExtResource("7_j7obp")

[node name="Notes" type="ColorRect" parent="UI" node_paths=PackedStringArray("editor")]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_top = -20.0
offset_right = 2000.0
offset_bottom = 100.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.25882354)
script = ExtResource("5_02gh2")
editor = NodePath("../..")

[node name="ButtonsContainer" type="HBoxContainer" parent="UI"]
anchors_preset = 14
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
offset_top = -120.0
offset_bottom = -60.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("6_4puek")
theme_override_constants/separation = 20
alignment = 1

[node name="BackwardButton" type="Button" parent="UI/ButtonsContainer"]
modulate = Color(0.46666667, 1, 1, 1)
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 24
icon = ExtResource("11_bjucn")

[node name="PlayButton" type="Button" parent="UI/ButtonsContainer"]
modulate = Color(0.46666667, 1, 1, 1)
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 24
icon = ExtResource("12_03yw0")

[node name="ForwardButton" type="Button" parent="UI/ButtonsContainer"]
modulate = Color(0.46666667, 1, 1, 1)
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
theme_override_font_sizes/font_size = 24
icon = ExtResource("13_bclc7")

[node name="SaveButton" type="Button" parent="UI/ButtonsContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Save & Download"

[node name="ChooseButton" type="Button" parent="UI/ButtonsContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Reset"

[node name="QuitButton" type="Button" parent="UI/ButtonsContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "Quit"

[node name="BLEH" type="Button" parent="UI/ButtonsContainer"]
visible = false
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "BLEH"

[node name="Line2D" type="Line2D" parent="UI"]
points = PackedVector2Array(640, 320, 640, 480)
width = 5.0
default_color = Color(0, 0.5724773, 0.5748657, 1)

[connection signal="cancelled" from="FilePicker" to="." method="_on_file_picker_cancelled"]
[connection signal="selected" from="FilePicker" to="." method="_on_file_picker_selected"]
[connection signal="add_note" from="InputHandler" to="." method="_on_input_add_note"]
[connection signal="play_pause" from="InputHandler" to="." method="_on_input_play_pause"]
[connection signal="redo" from="InputHandler" to="." method="_on_input_redo"]
[connection signal="seek" from="InputHandler" to="." method="_on_input_seek"]
[connection signal="undo" from="InputHandler" to="." method="_on_input_undo"]
[connection signal="note_deleted" from="UI/Notes" to="." method="_on_note_deleted"]
[connection signal="pressed" from="UI/ButtonsContainer/BackwardButton" to="." method="_on_seek_back"]
[connection signal="pressed" from="UI/ButtonsContainer/PlayButton" to="." method="_on_play"]
[connection signal="pressed" from="UI/ButtonsContainer/ForwardButton" to="." method="_on_seek_forward"]
[connection signal="pressed" from="UI/ButtonsContainer/SaveButton" to="." method="_on_save"]
[connection signal="pressed" from="UI/ButtonsContainer/ChooseButton" to="." method="_on_choose"]
[connection signal="pressed" from="UI/ButtonsContainer/QuitButton" to="." method="_on_quit"]
